<!doctype html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <title>{{ title or (date + ' hans.gerwitz.com') }}</title>

    <!-- favicon, etc. -->
    <link rel="apple-touch-icon" sizes="180x180" href="/favicon/apple-touch-icon.png">
    <link rel="manifest" href="/favicon/site.webmanifest">
    <link rel="mask-icon" href="/favicon/safari-pinned-tab.svg" color="#00852B">
    <meta name="msapplication-TileColor" content="#00852B">
    <meta name="theme-color" content="#00852B">

    <!-- webmentions -->
    <link rel="webmention" href="https://webmention.herokuapp.com/api/webmention">

    <!-- RSS feeds -->
    <link rel="alternate" type="application/rss+xml" href="https://hans.gerwitz.com/feeds/notes.rss" title="Hans's Notes">
    <link rel="alternate" type="application/rss+xml" href="https://hans.gerwitz.com/feeds/writing.rss" title="Writings of Hans Gerwitz">

    {% if external %}
    <link rel="canonical" href="{{ external }}">
    {% else %}
    {# http://www.thesempost.com/using-rel-canonical-on-all-pages-for-duplicate-content-protection/ #}
    <link rel="canonical" href="{{ page.url | absoluteUrl('https://hans.gerwitz.com/') }}">
    {% endif %}

    <!-- Twitter summary card -->
    <meta property="twitter:creator:id" content="521">
    <meta property="twitter:title" content="{{ title }}">
{#    <meta property="twitter:description" content="<%= abstract %>"> #}

    <!-- Facebook OpenGraph -->
    <meta property="og:site_name" content="hans.gerwitz.com">
    <meta property="og:type" content="article">
    <meta property="og:url" content="{{ page.url }}">
    <meta property="og:title" content="{{ title }}">
{#    <meta property="og:description" content="<%= abstract %>"> #}
    <meta property="og:image" content="/favicon/tree.png">

    <meta name="Description" content="Personal web site of Hans Gerwitz. Since 1994.">

    <link rel="stylesheet" href="/css/style.css">

{# preload fonts, instead of waiting for CSS to request them #}
{# crossorigin is only present because Lighthouse insists #}
    <link rel="preload" href="/css/fonts/source-sans-pro-v14-latin-700.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/css/fonts/source-sans-pro-v14-latin-regular.woff2" as="font" type="font/woff2" crossorigin>
    <link rel="preload" href="/css/fonts/source-sans-pro-v14-latin-italic.woff2" as="font" type="font/woff2" crossorigin>

    {{ headtags | safe }}
  </head>
  <body class="{{ bodyClass }}">
    <div class="main-container">
      {% include "header.njk" %}

      <div class="inner-container">

        {% block content %}
        {{ content | safe }}
        {% endblock %}

        {% include "footer.njk" %}
      </div>
    </div>
  </body>
</html>
